(this["webpackJsonpultimate-weather-app"]=this["webpackJsonpultimate-weather-app"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),i=a.n(s),c=(a(13),a(1)),o=a(2),u=a(4),l=a(3),h=a(5);a(14);var m=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={key:a.props.id,forecasts:[]},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.state.key,fetch(function(e){return"http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=GPXGqy7AcGYAakx5u02XAgDA5sJtzKvb")}(e)).then((function(e){return e.json()}))).then((function(e){return t.setState({forecasts:e.DailyForecasts})}))}},{key:"celciusConverter",value:function(e){return(5*(parseInt(e)-32)/9).toFixed()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"forecasts"},this.state.forecasts.map((function(t){var a=new Date(t.Date),n=e.celciusConverter(t.Temperature.Minimum.Value),s=e.celciusConverter(t.Temperature.Maximum.Value);return r.a.createElement("div",{className:"forecastItem"},r.a.createElement("h1",null,"".concat(a.getDate(),".").concat(a.getMonth()+1,".").concat(a.getFullYear()," ")),r.a.createElement("h1",null,"max ",s," \xb0"),r.a.createElement("h1",null,"min ",n," \xb0"))})))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={name:a.props.name,country:a.props.country,key:a.props.id},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"tc bg-light-green dib br3 pa3 ma2 grow bw2 shadow5"},r.a.createElement("div",null,r.a.createElement(m,{id:this.state.key}),r.a.createElement("h2",null,this.state.name),r.a.createElement("p",null,this.state.country)))}}]),t}(n.Component),p=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).onChange=function(e){var t=a.props.cities,n=e.currentTarget.value,r=t.filter((function(e){return e.EnglishName.toLowerCase().indexOf(n.toLowerCase())>-1}));a.setState({filteredCities:r,showSuggestions:!0,userInput:e.currentTarget.value,showResult:!1})},a.onClick=function(e){var t=e.currentTarget.innerText,n=a.state.filteredCities.filter((function(e){return e.EnglishName.toLowerCase().indexOf(t.toLowerCase())>-1}));a.setState({filteredCities:[],showSuggestions:!1,userInput:t,showResult:!0,resultCity:n[0]})},a.state={filteredCities:[],showSuggestions:!1,userInput:"",showResult:!1,resultCity:{}},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{type:"search",onChange:this.onChange,value:this.state.userInput}),this.state.showSuggestions&&this.state.userInput&&(this.state.filteredCities.length>0?r.a.createElement("ul",{className:"suggestions"},this.state.filteredCities.map((function(t){return r.a.createElement("li",{key:t.EnglishName,onClick:e.onClick},t.EnglishName)}))):r.a.createElement("div",{className:"no-suggestions"},r.a.createElement("em",null,"No suggestions"))),this.state.showResult&&r.a.createElement("div",{id:"card"},r.a.createElement(f,{id:this.state.resultCity.Key,name:this.state.resultCity.EnglishName,country:this.state.resultCity.Country.EnglishName})))}}]),t}(n.Component);p.defaultProperty={cities:[]};var v=p,d=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).onSearchChange=function(t){e.setState({searchfield:t.target.value})},e.state={cities:[],searchfield:""},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://dataservice.accuweather.com/locations/v1/topcities/150?apikey=GPXGqy7AcGYAakx5u02XAgDA5sJtzKvb").then((function(e){return e.json()})).then((function(t){return e.setState({cities:t})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"tc"},r.a.createElement("h1",{className:"f1"},"Weather App"),r.a.createElement(v,{className:"pa3 ba b--green bg-lightest-blue",cities:this.state.cities}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(15);i.a.render(r.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.dc73eb53.chunk.js.map